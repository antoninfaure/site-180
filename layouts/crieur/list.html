{{ define "main" }}

<!-- == BANNER 1 == -->
<div class="container col-12 banner banner-1">
  <div class="wave-container">
    <h1 class="mx-4">Le Crieur</h1>
    <h5>Guide Ã©tudiant</h5>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 30 1440 230"><path fill="#FFF" fill-opacity="1" d="M0,192L80,197.3C160,203,320,213,480,224C640,235,800,245,960,229.3C1120,213,1280,171,1360,149.3L1440,128L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z"></path></svg>
  </div>
</div>

<!-- == CONTAINER 1 == -->
<div class="col-12 p-0 m-0" style="background-color: #FFF; color: black;">
  <div class="container col-12 px-6 py-4 text-center">
    {{ .Content }}
    <div class="col-12 py-4 m-0">
      <div id="map"></div>
    </div>
    <div class="row m-0" style="overflow-x: scroll; white-space: nowrap; flex-wrap: nowrap; display: block;">
      {{ range ( where .Site.RegularPages "Type" "crieur" ) }}
      <div class="col-12 col-md-6 col-lg-4 m-0 p-4" style="display: inline-block;">
        <a href="{{ .Permalink }}">
          <div class="card shadow">
            {{ $thumbnail := "none" }}
            {{ if isset .Params "banner" }} {{ $thumbnail = .Params.banner}} {{ end }}
            {{ if isset .Params "front" }} {{ $thumbnail = .Params.front }} {{ end }}
            {{ if eq $thumbnail "none"}}
            {{ else}}
              {{ with (resources.Get $thumbnail).Fill "800x800" }}
              <img src="{{ .Permalink }}" class="img-fluid card-img-top ">
              {{ end }}
            {{ end}}
            <div class="card-body p-4">
              <h4 class="ml-1">{{ .Title }}</h4>
              <h6>{{ .Params.style }}</h6>
            </div>
          </div>
        </a>
      </div>
      {{ end }}
    </div>
  </div>
</div>

<script type="text/javascript" src="{{ (resources.Get "js/map.js").Permalink }}"></script>
<style type="text/css">
  #map {
    width: 100%;
    height: 600px;
  }
  #popimg {
  width: 150px;
  height: 120px;
}
  .banner-1::before {
    background-image: url('{{ (resources.Get "images/banner_lausanne.jpg").Permalink }}');
    opacity: 0.6;
  }
  .banner-1 h1 {
    font-size: 4rem;
    color: white;
    margin-top: 80px;
    margin-bottom: 0;
    font-weight: 900;
    text-shadow: 0 0 8px #000;
  }
  @media only screen and (max-width: 710px) {
    .banner-1 h1 {
      margin-top: 40px;
    }
  }
  .banner-1 h5 {
    font-size: 1.5rem;
    color: white;
    margin-bottom: 0;
    font-weight: 800;
    text-shadow: 0 0 4px #000;
  }

  a:has(> .card) {
    text-decoration: none;
    color: inherit;
  }
</style>

{{ end }}